var j=Object.create;var d=Object.defineProperty,K=Object.defineProperties,Y=Object.getOwnPropertyDescriptor,H=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,Q=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var T=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&T(e,r,t[r]);if(C)for(var r of C(t))Z.call(t,r)&&T(e,r,t[r]);return e},m=(e,t)=>K(e,H(t)),N=e=>d(e,"__esModule",{value:!0});var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ee=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},$=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of J(t))!_.call(e,n)&&(r||n!=="default")&&d(e,n,{get:()=>t[n],enumerable:!(i=Y(t,n))||i.enumerable});return e},te=(e,t)=>$(N(d(e!=null?j(Q(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),re=(e=>(t,r)=>e&&e.get(t)||(r=$(N({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var P=g((ge,O)=>{"use strict";var k=require("fs"),y;function ne(){try{return k.statSync("/.dockerenv"),!0}catch{return!1}}function oe(){try{return k.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}O.exports=()=>(y===void 0&&(y=ne()||oe()),y)});var W=g((we,A)=>{"use strict";var ie=require("os"),se=require("fs"),D=P(),I=()=>{if(process.platform!=="linux")return!1;if(ie.release().toLowerCase().includes("microsoft"))return!D();try{return se.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!D():!1}catch{return!1}};process.env.__IS_WSL_TEST__?A.exports=I:A.exports=I()});var M=g((he,q)=>{"use strict";q.exports=(e,t,r)=>{let i=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let n=r();return i(n),n},set(n){i(n)}}),e}});var G=g((xe,X)=>{var ae=require("path"),ce=require("child_process"),{promises:F,constants:R}=require("fs"),w=W(),le=P(),S=M(),v=ae.join(__dirname,"xdg-open"),{platform:u,arch:B}=process,ue=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",i=!1;try{await F.access(r,R.F_OK),i=!0}catch{}if(!i)return e;let n=await F.readFile(r,{encoding:"utf8"}),c=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(n);return c?(t=c.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),L=async(e,t)=>{let r;for(let i of e)try{return await t(i)}catch(n){r=n}throw r},h=async e=>{if(e=l({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},e),Array.isArray(e.app))return L(e.app,a=>h(m(l({},e),{app:a})));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return L(t,a=>h(m(l({},e),{app:{name:a,arguments:r}})));let i,n=[],c={};if(u==="darwin")i="open",e.wait&&n.push("--wait-apps"),e.background&&n.push("--background"),e.newInstance&&n.push("--new"),t&&n.push("-a",t);else if(u==="win32"||w&&!le()){let a=await ue();i=w?`${a}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,n.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),w||(c.windowsVerbatimArguments=!0);let s=["Start"];e.wait&&s.push("-Wait"),t?(s.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&s.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),s.push(r.join(","))),e.target=Buffer.from(s.join(" "),"utf16le").toString("base64")}else{if(t)i=t;else{let a=!__dirname||__dirname==="/",s=!1;try{await F.access(v,R.X_OK),s=!0}catch{}i=process.versions.electron||u==="android"||a||!s?"xdg-open":v}r.length>0&&n.push(...r),e.wait||(c.stdio="ignore",c.detached=!0)}e.target&&n.push(e.target),u==="darwin"&&r.length>0&&n.push("--args",...r);let p=ce.spawn(i,n,c);return e.wait?new Promise((a,s)=>{p.once("error",s),p.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){s(new Error(`Exited with code ${f}`));return}a(p)})}):(p.unref(),p)},b=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return h(m(l({},t),{target:e}))},pe=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return h(m(l({},t),{app:{name:e,arguments:r}}))};function z(e){if(typeof e=="string"||Array.isArray(e))return e;let{[B]:t}=e;if(!t)throw new Error(`${B} is not supported`);return t}function E({[u]:e},{wsl:t}){if(t&&w)return z(t);if(!e)throw new Error(`${u} is not supported`);return z(e)}var x={};S(x,"chrome",()=>E({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));S(x,"firefox",()=>E({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));S(x,"edge",()=>E({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));b.apps=x;b.openApp=pe;X.exports=b});var de={};ee(de,{default:()=>V});var o=require("@raycast/api"),U=te(G());function fe(){async function e(t){if(!t.text){(0,o.showToast)(o.ToastStyle.Failure,"Please enter text");return}(0,U.default)(`bear://x-callback-url/create?title=${encodeURIComponent(t.title)}&tags=${encodeURIComponent(t.tags)}&open_note=${t.openNote!=="no"?"yes":"no"}&new_window=${t.openNote==="new"?"yes":"no"}&show_window=${t.openNote!=="no"?"yes":"no"}&edit=${t.openNote==="no"?"no":"yes"}&timestamp=${t.timestamp?"yes":"no"}&text=${encodeURIComponent(t.text)}`,{background:t.openNote==="no"}),await(0,o.closeMainWindow)(),await(0,o.popToRoot)({clearSearchBar:!0})}return _jsx(o.SubmitFormAction,{icon:o.Icon.Document,title:"Create Note",onSubmit:e})}function V(){return _jsx(o.Form,{navigationTitle:"Create Note",actions:_jsx(o.ActionPanel,null,_jsx(fe,null))},_jsx(o.Form.TextField,{id:"title",title:"Title",placeholder:"Note Title ..."}),_jsx(o.Form.TextArea,{id:"text",title:"Text",placeholder:"Text to add to note ..."}),_jsx(o.Form.TextField,{id:"tags",title:"Tags",placeholder:"comma,separated,tags"}),_jsx(o.Form.Separator,null),_jsx(o.Form.Dropdown,{id:"openNote",title:"Open Note"},_jsx(o.Form.Dropdown.Item,{value:"no",title:"Don't Open Note"}),_jsx(o.Form.Dropdown.Item,{value:"main",title:"In Main Window"}),_jsx(o.Form.Dropdown.Item,{value:"new",title:"In New Window"})),_jsx(o.Form.Checkbox,{id:"timestamp",label:"Prepend time and date"}),_jsx(o.Form.Checkbox,{id:"pin",label:"Pin note in notes list"}))}module.exports=re(de);0&&(module.exports={});
